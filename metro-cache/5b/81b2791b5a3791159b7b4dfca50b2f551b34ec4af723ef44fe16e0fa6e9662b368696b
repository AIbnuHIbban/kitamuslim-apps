{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"./NativeAppState","data":{"isAsync":false}},{"name":"../vendor/emitter/EventEmitter","data":{"isAsync":false}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false}},{"name":"../Utilities/logError","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf3 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n\n  var _NativeAppState = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeAppState\"));\n\n  var EventEmitter = _$$_REQUIRE(_dependencyMap[7], \"../vendor/emitter/EventEmitter\");\n\n  var NativeEventEmitter = _$$_REQUIRE(_dependencyMap[8], \"../EventEmitter/NativeEventEmitter\");\n\n  var logError = _$$_REQUIRE(_dependencyMap[9], \"../Utilities/logError\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[10], \"invariant\");\n\n  var AppState = function (_NativeEventEmitter) {\n    (0, _inherits2.default)(AppState, _NativeEventEmitter);\n\n    function AppState() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AppState);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(AppState).call(this, _NativeAppState.default));\n      _this.isAvailable = true;\n      _this._eventHandlers = {\n        change: new Map(),\n        memoryWarning: new Map()\n      };\n      _this.currentState = _NativeAppState.default.getConstants().initialAppState;\n      var eventUpdated = false;\n\n      _this.addListener('appStateDidChange', function (appStateData) {\n        eventUpdated = true;\n        _this.currentState = appStateData.app_state;\n      });\n\n      _NativeAppState.default.getCurrentAppState(function (appStateData) {\n        if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n          _this.currentState = appStateData.app_state;\n\n          _this.emit('appStateDidChange', appStateData);\n        }\n      }, logError);\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(AppState, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        invariant(['change', 'memoryWarning'].indexOf(type) !== -1, 'Trying to subscribe to unknown event: \"%s\"', type);\n\n        if (type === 'change') {\n          this._eventHandlers[type].set(handler, this.addListener('appStateDidChange', function (appStateData) {\n            handler(appStateData.app_state);\n          }));\n        } else if (type === 'memoryWarning') {\n          this._eventHandlers[type].set(handler, this.addListener('memoryWarning', handler));\n        }\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, handler) {\n        invariant(['change', 'memoryWarning'].indexOf(type) !== -1, 'Trying to remove listener for unknown event: \"%s\"', type);\n\n        if (!this._eventHandlers[type].has(handler)) {\n          return;\n        }\n\n        this._eventHandlers[type].get(handler).remove();\n\n        this._eventHandlers[type].delete(handler);\n      }\n    }]);\n    return AppState;\n  }(NativeEventEmitter);\n\n  function throwMissingNativeModule() {\n    invariant(false, 'Cannot use AppState module when native RCTAppState is not included in the build.\\n' + 'Either include it, or check AppState.isAvailable before calling any methods.');\n  }\n\n  var MissingNativeAppStateShim = function (_EventEmitter) {\n    (0, _inherits2.default)(MissingNativeAppStateShim, _EventEmitter);\n\n    function MissingNativeAppStateShim() {\n      var _getPrototypeOf2;\n\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, MissingNativeAppStateShim);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2 = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(MissingNativeAppStateShim)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _this2.isAvailable = false;\n      _this2.currentState = null;\n      return _this2;\n    }\n\n    (0, _createClass2.default)(MissingNativeAppStateShim, [{\n      key: \"addEventListener\",\n      value: function addEventListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeSubscription\",\n      value: function removeSubscription() {\n        throwMissingNativeModule();\n      }\n    }]);\n    return MissingNativeAppStateShim;\n  }(EventEmitter);\n\n  if (_NativeAppState.default) {\n    AppState = new AppState();\n  } else {\n    AppState = new MissingNativeAppStateShim();\n  }\n\n  module.exports = AppState;\n});","map":[[2,0,11,0],[16,0,15,0],[18,0,13,0],[18,6,13,6,"EventEmitter"],[18,18,13,18],[18,21,13,21,"require"],[18,32,13,28],[18,85,13,0],[20,0,14,0],[20,6,14,6,"NativeEventEmitter"],[20,24,14,24],[20,27,14,27,"require"],[20,38,14,34],[20,95,14,0],[22,0,17,0],[22,6,17,6,"logError"],[22,14,17,14],[22,17,17,17,"require"],[22,28,17,24],[22,72,17,0],[24,0,18,0],[24,6,18,6,"invariant"],[24,15,18,15],[24,18,18,18,"require"],[24,29,18,25],[24,62,18,0],[26,6,26,6,"AppState"],[26,14],[29,0,31,2],[29,24,31,16],[30,0,31,16],[32,0,31,16],[33,0,32,4],[33,112,32,10,"NativeAppState"],[33,135,32,4],[34,0,34,4],[34,12,34,9,"isAvailable"],[34,23,34,4],[34,26,34,23],[34,30,34,4],[35,0,35,4],[35,12,35,9,"_eventHandlers"],[35,26,35,4],[35,29,35,26],[36,0,36,6,"change"],[36,8,36,6,"change"],[36,14,36,12],[36,16,36,14],[36,20,36,18,"Map"],[36,23,36,14],[36,25,35,26],[37,0,37,6,"memoryWarning"],[37,8,37,6,"memoryWarning"],[37,21,37,19],[37,23,37,21],[37,27,37,25,"Map"],[37,30,37,21],[38,0,35,26],[38,7,35,4],[39,0,40,4],[39,12,40,9,"currentState"],[39,24,40,4],[39,27,40,24,"NativeAppState"],[39,51,40,39,"getConstants"],[39,63,40,24],[39,66,40,54,"initialAppState"],[39,81,40,4],[40,0,42,4],[40,10,42,8,"eventUpdated"],[40,22,42,20],[40,25,42,23],[40,30,42,4],[42,0,48,4],[42,12,48,9,"addListener"],[42,23,48,4],[42,24,48,21],[42,43,48,4],[42,45,48,42],[42,55,48,42,"appStateData"],[42,67,48,54],[42,69,48,58],[43,0,49,6,"eventUpdated"],[43,8,49,6,"eventUpdated"],[43,20,49,18],[43,23,49,21],[43,27,49,6],[44,0,50,6],[44,14,50,11,"currentState"],[44,26,50,6],[44,29,50,26,"appStateData"],[44,41,50,38],[44,42,50,39,"app_state"],[44,51,50,6],[45,0,51,5],[45,7,48,4],[47,0,56,4,"NativeAppState"],[47,30,56,19,"getCurrentAppState"],[47,48,56,4],[47,49,56,38],[47,59,56,38,"appStateData"],[47,71,56,50],[47,73,56,54],[48,0,58,6],[48,12,58,10],[48,13,58,11,"eventUpdated"],[48,25,58,10],[48,29,58,27],[48,35,58,32,"currentState"],[48,47,58,27],[48,52,58,49,"appStateData"],[48,64,58,61],[48,65,58,62,"app_state"],[48,74,58,6],[48,76,58,73],[49,0,59,8],[49,16,59,13,"currentState"],[49,28,59,8],[49,31,59,28,"appStateData"],[49,43,59,40],[49,44,59,41,"app_state"],[49,53,59,8],[51,0,60,8],[51,16,60,13,"emit"],[51,20,60,8],[51,21,60,18],[51,40,60,8],[51,42,60,39,"appStateData"],[51,54,60,8],[52,0,61,7],[53,0,62,5],[53,7,56,4],[53,9,62,7,"logError"],[53,17,56,4],[55,0,31,16],[56,0,63,3],[60,39,76,19,"type"],[60,43],[60,45,76,33,"handler"],[60,52],[60,54,76,52],[61,0,77,4,"invariant"],[61,8,77,4,"invariant"],[61,17,77,13],[61,18,78,6],[61,19,78,7],[61,27,78,6],[61,29,78,17],[61,44,78,6],[61,46,78,34,"indexOf"],[61,53,78,6],[61,54,78,42,"type"],[61,58,78,6],[61,64,78,52],[61,65,78,53],[61,66,77,13],[61,68,79,6],[61,112,77,13],[61,114,80,6,"type"],[61,118,77,13],[61,119,77,4],[63,0,82,4],[63,12,82,8,"type"],[63,16,82,12],[63,21,82,17],[63,29,82,4],[63,31,82,27],[64,0,83,6],[64,15,83,11,"_eventHandlers"],[64,29,83,6],[64,30,83,26,"type"],[64,34,83,6],[64,36,83,32,"set"],[64,39,83,6],[64,40,84,8,"handler"],[64,47,83,6],[64,49,85,8],[64,54,85,13,"addListener"],[64,65,85,8],[64,66,85,25],[64,85,85,8],[64,87,85,46],[64,97,85,46,"appStateData"],[64,109,85,58],[64,111,85,62],[65,0,86,10,"handler"],[65,12,86,10,"handler"],[65,19,86,17],[65,20,86,18,"appStateData"],[65,32,86,30],[65,33,86,31,"app_state"],[65,42,86,17],[65,43,86,10],[66,0,87,9],[66,11,85,8],[66,12,83,6],[67,0,89,5],[67,9,82,4],[67,15,89,11],[67,19,89,15,"type"],[67,23,89,19],[67,28,89,24],[67,43,89,11],[67,45,89,41],[68,0,90,6],[68,15,90,11,"_eventHandlers"],[68,29,90,6],[68,30,90,26,"type"],[68,34,90,6],[68,36,90,32,"set"],[68,39,90,6],[68,40,91,8,"handler"],[68,47,90,6],[68,49,92,8],[68,54,92,13,"addListener"],[68,65,92,8],[68,66,92,25],[68,81,92,8],[68,83,92,42,"handler"],[68,90,92,8],[68,91,90,6],[69,0,94,5],[70,0,95,3],[73,42,102,22,"type"],[73,46],[73,48,102,36,"handler"],[73,55],[73,57,102,55],[74,0,103,4,"invariant"],[74,8,103,4,"invariant"],[74,17,103,13],[74,18,104,6],[74,19,104,7],[74,27,104,6],[74,29,104,17],[74,44,104,6],[74,46,104,34,"indexOf"],[74,53,104,6],[74,54,104,42,"type"],[74,58,104,6],[74,64,104,52],[74,65,104,53],[74,66,103,13],[74,68,105,6],[74,119,103,13],[74,121,106,6,"type"],[74,125,103,13],[74,126,103,4],[76,0,108,4],[76,12,108,8],[76,13,108,9],[76,18,108,14,"_eventHandlers"],[76,32,108,9],[76,33,108,29,"type"],[76,37,108,9],[76,39,108,35,"has"],[76,42,108,9],[76,43,108,39,"handler"],[76,50,108,9],[76,51,108,4],[76,53,108,49],[77,0,109,6],[78,0,110,5],[80,0,111,4],[80,13,111,9,"_eventHandlers"],[80,27,111,4],[80,28,111,24,"type"],[80,32,111,4],[80,34,111,30,"get"],[80,37,111,4],[80,38,111,34,"handler"],[80,45,111,4],[80,47,111,43,"remove"],[80,53,111,4],[82,0,112,4],[82,13,112,9,"_eventHandlers"],[82,27,112,4],[82,28,112,24,"type"],[82,32,112,4],[82,34,112,30,"delete"],[82,40,112,4],[82,41,112,37,"handler"],[82,48,112,4],[83,0,113,3],[86,4,26,23,"NativeEventEmitter"],[86,22],[88,0,116,0],[88,11,116,9,"throwMissingNativeModule"],[88,35,116,0],[88,38,116,36],[89,0,117,2,"invariant"],[89,4,117,2,"invariant"],[89,13,117,11],[89,14,118,4],[89,19,117,11],[89,21,119,4],[89,108,120,6],[89,186,117,11],[89,187,117,2],[90,0,122,1],[92,6,124,6,"MissingNativeAppStateShim"],[92,31],[107,13,126,2,"isAvailable"],[107,24],[107,27,126,25],[107,32],[108,13,127,2,"currentState"],[108,25],[108,28,127,26],[108,32],[114,41,129,21],[115,0,130,4,"throwMissingNativeModule"],[115,8,130,4,"throwMissingNativeModule"],[115,32,130,28],[116,0,131,3],[119,44,133,24],[120,0,134,4,"throwMissingNativeModule"],[120,8,134,4,"throwMissingNativeModule"],[120,32,134,28],[121,0,135,3],[124,36,138,16],[125,0,139,4,"throwMissingNativeModule"],[125,8,139,4,"throwMissingNativeModule"],[125,32,139,28],[126,0,140,3],[129,43,142,23],[130,0,143,4,"throwMissingNativeModule"],[130,8,143,4,"throwMissingNativeModule"],[130,32,143,28],[131,0,144,3],[134,43,146,23],[135,0,147,4,"throwMissingNativeModule"],[135,8,147,4,"throwMissingNativeModule"],[135,32,147,28],[136,0,148,3],[139,4,124,40,"EventEmitter"],[139,16],[141,0,154,0],[141,6,154,4,"NativeAppState"],[141,29,154,0],[141,31,154,20],[142,0,155,2,"AppState"],[142,4,155,2,"AppState"],[142,12,155,10],[142,15,155,13],[142,19,155,17,"AppState"],[142,27,155,13],[142,29,155,2],[143,0,156,1],[143,3,154,0],[143,9,156,7],[144,0,157,2,"AppState"],[144,4,157,2,"AppState"],[144,12,157,10],[144,15,157,13],[144,19,157,17,"MissingNativeAppStateShim"],[144,44,157,13],[144,46,157,2],[145,0,158,1],[147,0,160,0,"module"],[147,2,160,0,"module"],[147,8,160,6],[147,9,160,7,"exports"],[147,16,160,0],[147,19,160,17,"AppState"],[147,27,160,0]]},"type":"js/module"}]}