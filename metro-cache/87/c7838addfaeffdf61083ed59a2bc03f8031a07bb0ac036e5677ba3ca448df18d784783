{"dependencies":[{"name":"./Platform","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"metro/src/lib/bundle-modules/HMRClient","data":{"isAsync":false}},{"name":"./HMRLoadingView","data":{"isAsync":false}},{"name":"../BatchedBridge/NativeModules","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Platform = _$$_REQUIRE(_dependencyMap[0], \"./Platform\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[1], \"invariant\");\n\n  var MetroHMRClient = _$$_REQUIRE(_dependencyMap[2], \"metro/src/lib/bundle-modules/HMRClient\");\n\n  var HMRClient = {\n    enable: function enable(platform, bundleEntry, host, port) {\n      invariant(platform, 'Missing required parameter `platform`');\n      invariant(bundleEntry, 'Missing required paramenter `bundleEntry`');\n      invariant(host, 'Missing required paramenter `host`');\n\n      var HMRLoadingView = _$$_REQUIRE(_dependencyMap[3], \"./HMRLoadingView\");\n\n      var wsHostPort = port !== null && port !== '' ? host + \":\" + port : host;\n      bundleEntry = bundleEntry.replace(/\\.(bundle|delta)/, '.js');\n      var wsUrl = \"ws://\" + wsHostPort + \"/hot?\" + (\"platform=\" + platform + \"&\") + (\"bundleEntry=\" + bundleEntry);\n      var hmrClient = new MetroHMRClient(wsUrl);\n      hmrClient.on('connection-error', function (e) {\n        var error = \"Hot loading isn't working because it cannot connect to the development server.\\n\\nTry the following to fix the issue:\\n- Ensure that the packager server is running and available on the same network\";\n\n        if (\"android\" === 'ios') {\n          error += \"\\n- Ensure that the Packager server URL is correctly set in AppDelegate\";\n        } else {\n          error += \"\\n- Ensure that your device/emulator is connected to your machine and has USB debugging enabled - run 'adb devices' to see a list of connected devices\\n- If you're on a physical device connected to the same machine, run 'adb reverse tcp:8081 tcp:8081' to forward requests from your device\\n- If your device is on the same Wi-Fi network, set 'Debug server host & port for device' in 'Dev settings' to your machine's IP address and the port of the local dev server - e.g. 10.0.1.1:8081\";\n        }\n\n        error += \"\\n\\nURL: \" + host + \":\" + port + \"\\n\\nError: \" + e.message;\n        throw new Error(error);\n      });\n      hmrClient.on('update-start', function () {\n        HMRLoadingView.showMessage('Hot Loading...');\n      });\n      hmrClient.on('update', function () {\n        if (\"android\" === 'ios') {\n          var RCTRedBox = _$$_REQUIRE(_dependencyMap[4], \"../BatchedBridge/NativeModules\").RedBox;\n\n          RCTRedBox && RCTRedBox.dismiss && RCTRedBox.dismiss();\n        } else {\n          var RCTExceptionsManager = _$$_REQUIRE(_dependencyMap[4], \"../BatchedBridge/NativeModules\").ExceptionsManager;\n\n          RCTExceptionsManager && RCTExceptionsManager.dismissRedbox && RCTExceptionsManager.dismissRedbox();\n        }\n      });\n      hmrClient.on('update-done', function () {\n        HMRLoadingView.hide();\n      });\n      hmrClient.on('error', function (data) {\n        HMRLoadingView.hide();\n\n        if (data.type === 'GraphNotFoundError') {\n          hmrClient.disable();\n          throw new Error('The packager server has restarted since the last Hot update. Hot Reloading will be disabled until you reload the application.');\n        } else if (data.type === 'RevisionNotFoundError') {\n          hmrClient.disable();\n          throw new Error('The packager server and the client are out of sync. Hot Reloading will be disabled until you reload the application.');\n        } else {\n          throw new Error(data.type + \" \" + data.message);\n        }\n      });\n      hmrClient.on('close', function (data) {\n        HMRLoadingView.hide();\n        throw new Error('Disconnected from the packager server. Hot Reloading will be disabled until you reload the application.');\n      });\n      hmrClient.enable();\n    }\n  };\n  module.exports = HMRClient;\n});","map":[[2,0,10,0],[4,0,12,0],[4,6,12,6,"Platform"],[4,14,12,14],[4,17,12,17,"require"],[4,28,12,24],[4,61,12,0],[6,0,13,0],[6,6,13,6,"invariant"],[6,15,13,15],[6,18,13,18,"require"],[6,29,13,25],[6,61,13,0],[8,0,15,0],[8,6,15,6,"MetroHMRClient"],[8,20,15,20],[8,23,15,23,"require"],[8,34,15,30],[8,95,15,0],[10,0,21,0],[10,6,21,6,"HMRClient"],[10,15,21,15],[10,18,21,18],[11,0,22,2,"enable"],[11,4,22,2,"enable"],[11,10,21,18],[11,28,22,9,"platform"],[11,36,21,18],[11,38,22,27,"bundleEntry"],[11,49,21,18],[11,51,22,48,"host"],[11,55,21,18],[11,57,22,62,"port"],[11,61,21,18],[11,63,22,76],[12,0,23,4,"invariant"],[12,6,23,4,"invariant"],[12,15,23,13],[12,16,23,14,"platform"],[12,24,23,13],[12,26,23,24],[12,65,23,13],[12,66,23,4],[13,0,24,4,"invariant"],[13,6,24,4,"invariant"],[13,15,24,13],[13,16,24,14,"bundleEntry"],[13,27,24,13],[13,29,24,27],[13,72,24,13],[13,73,24,4],[14,0,25,4,"invariant"],[14,6,25,4,"invariant"],[14,15,25,13],[14,16,25,14,"host"],[14,20,25,13],[14,22,25,20],[14,58,25,13],[14,59,25,4],[16,0,28,4],[16,10,28,10,"HMRLoadingView"],[16,24,28,24],[16,27,28,27,"require"],[16,38,28,34],[16,77,28,4],[18,0,33,4],[18,10,33,10,"wsHostPort"],[18,20,33,20],[18,23,33,23,"port"],[18,27,33,27],[18,32,33,32],[18,36,33,23],[18,40,33,40,"port"],[18,44,33,44],[18,49,33,49],[18,51,33,23],[18,54,33,57,"host"],[18,58,33,23],[18,67,33,65,"port"],[18,71,33,23],[18,74,33,74,"host"],[18,78,33,4],[19,0,35,4,"bundleEntry"],[19,6,35,4,"bundleEntry"],[19,17,35,15],[19,20,35,18,"bundleEntry"],[19,31,35,29],[19,32,35,30,"replace"],[19,39,35,18],[19,40,35,38],[19,58,35,18],[19,60,35,58],[19,65,35,18],[19,66,35,4],[20,0,38,4],[20,10,38,10,"wsUrl"],[20,15,38,15],[20,18,39,6],[20,28,39,14,"wsHostPort"],[20,38,39,6],[20,66,40,18,"platform"],[20,74,39,6],[20,102,41,21,"bundleEntry"],[20,113,39,6],[20,114,38,4],[21,0,43,4],[21,10,43,10,"hmrClient"],[21,19,43,19],[21,22,43,22],[21,26,43,26,"MetroHMRClient"],[21,40,43,22],[21,41,43,41,"wsUrl"],[21,46,43,22],[21,47,43,4],[22,0,45,4,"hmrClient"],[22,6,45,4,"hmrClient"],[22,15,45,13],[22,16,45,14,"on"],[22,18,45,4],[22,19,45,17],[22,37,45,4],[22,39,45,37],[22,49,45,37,"e"],[22,50,45,38],[22,52,45,42],[23,0,46,6],[23,12,46,10,"error"],[23,17,46,15],[23,219,46,6],[25,0,51,6],[25,12,51,10],[25,26,51,26],[25,31,51,6],[25,33,51,33],[26,0,52,8,"error"],[26,10,52,8,"error"],[26,15,52,13],[26,92,52,8],[27,0,54,7],[27,9,51,6],[27,15,54,13],[28,0,55,8,"error"],[28,10,55,8,"error"],[28,15,55,13],[28,504,55,8],[29,0,59,7],[31,0,61,6,"error"],[31,8,61,6,"error"],[31,13,61,11],[31,31,63,7,"host"],[31,35,61,11],[31,44,63,15,"port"],[31,48,61,11],[31,67,65,9,"e"],[31,68,65,10],[31,69,65,11,"message"],[31,76,61,6],[32,0,67,6],[32,14,67,12],[32,18,67,16,"Error"],[32,23,67,12],[32,24,67,22,"error"],[32,29,67,12],[32,30,67,6],[33,0,68,5],[33,7,45,4],[34,0,70,4,"hmrClient"],[34,6,70,4,"hmrClient"],[34,15,70,13],[34,16,70,14,"on"],[34,18,70,4],[34,19,70,17],[34,33,70,4],[34,35,70,33],[34,47,70,39],[35,0,71,6,"HMRLoadingView"],[35,8,71,6,"HMRLoadingView"],[35,22,71,20],[35,23,71,21,"showMessage"],[35,34,71,6],[35,35,71,33],[35,51,71,6],[36,0,72,5],[36,7,70,4],[37,0,74,4,"hmrClient"],[37,6,74,4,"hmrClient"],[37,15,74,13],[37,16,74,14,"on"],[37,18,74,4],[37,19,74,17],[37,27,74,4],[37,29,74,27],[37,41,74,33],[38,0,75,6],[38,12,75,10],[38,26,75,26],[38,31,75,6],[38,33,75,33],[39,0,76,8],[39,14,76,14,"RCTRedBox"],[39,23,76,23],[39,26,76,26,"require"],[39,37,76,33],[39,90,76,26],[39,91,76,68,"RedBox"],[39,97,76,8],[41,0,77,8,"RCTRedBox"],[41,10,77,8,"RCTRedBox"],[41,19,77,17],[41,23,77,21,"RCTRedBox"],[41,32,77,30],[41,33,77,31,"dismiss"],[41,40,77,8],[41,44,77,42,"RCTRedBox"],[41,53,77,51],[41,54,77,52,"dismiss"],[41,61,77,42],[41,63,77,8],[42,0,78,7],[42,9,75,6],[42,15,78,13],[43,0,79,8],[43,14,79,14,"RCTExceptionsManager"],[43,34,79,34],[43,37,79,37,"require"],[43,48,79,44],[43,101,79,37],[43,102,80,11,"ExceptionsManager"],[43,119,79,8],[45,0,81,8,"RCTExceptionsManager"],[45,10,81,8,"RCTExceptionsManager"],[45,30,81,28],[45,34,82,10,"RCTExceptionsManager"],[45,54,82,30],[45,55,82,31,"dismissRedbox"],[45,68,81,8],[45,72,83,10,"RCTExceptionsManager"],[45,92,83,30],[45,93,83,31,"dismissRedbox"],[45,106,83,10],[45,108,81,8],[46,0,84,7],[47,0,85,5],[47,7,74,4],[48,0,87,4,"hmrClient"],[48,6,87,4,"hmrClient"],[48,15,87,13],[48,16,87,14,"on"],[48,18,87,4],[48,19,87,17],[48,32,87,4],[48,34,87,32],[48,46,87,38],[49,0,88,6,"HMRLoadingView"],[49,8,88,6,"HMRLoadingView"],[49,22,88,20],[49,23,88,21,"hide"],[49,27,88,6],[50,0,89,5],[50,7,87,4],[51,0,91,4,"hmrClient"],[51,6,91,4,"hmrClient"],[51,15,91,13],[51,16,91,14,"on"],[51,18,91,4],[51,19,91,17],[51,26,91,4],[51,28,91,26],[51,38,91,26,"data"],[51,42,91,30],[51,44,91,34],[52,0,92,6,"HMRLoadingView"],[52,8,92,6,"HMRLoadingView"],[52,22,92,20],[52,23,92,21,"hide"],[52,27,92,6],[54,0,94,6],[54,12,94,10,"data"],[54,16,94,14],[54,17,94,15,"type"],[54,21,94,10],[54,26,94,24],[54,46,94,6],[54,48,94,46],[55,0,95,8,"hmrClient"],[55,10,95,8,"hmrClient"],[55,19,95,17],[55,20,95,18,"disable"],[55,27,95,8],[56,0,96,8],[56,16,96,14],[56,20,96,18,"Error"],[56,25,96,14],[56,26,97,10],[56,153,96,14],[56,154,96,8],[57,0,99,7],[57,9,94,6],[57,15,99,13],[57,19,99,17,"data"],[57,23,99,21],[57,24,99,22,"type"],[57,28,99,17],[57,33,99,31],[57,56,99,13],[57,58,99,56],[58,0,100,8,"hmrClient"],[58,10,100,8,"hmrClient"],[58,19,100,17],[58,20,100,18,"disable"],[58,27,100,8],[59,0,101,8],[59,16,101,14],[59,20,101,18,"Error"],[59,25,101,14],[59,26,102,10],[59,144,101,14],[59,145,101,8],[60,0,104,7],[60,9,99,13],[60,15,104,13],[61,0,105,8],[61,16,105,14],[61,20,105,18,"Error"],[61,25,105,14],[61,26,105,27,"data"],[61,30,105,31],[61,31,105,32,"type"],[61,35,105,14],[61,44,105,40,"data"],[61,48,105,44],[61,49,105,45,"message"],[61,56,105,14],[61,57,105,8],[62,0,106,7],[63,0,107,5],[63,7,91,4],[64,0,109,4,"hmrClient"],[64,6,109,4,"hmrClient"],[64,15,109,13],[64,16,109,14,"on"],[64,18,109,4],[64,19,109,17],[64,26,109,4],[64,28,109,26],[64,38,109,26,"data"],[64,42,109,30],[64,44,109,34],[65,0,110,6,"HMRLoadingView"],[65,8,110,6,"HMRLoadingView"],[65,22,110,20],[65,23,110,21,"hide"],[65,27,110,6],[66,0,111,6],[66,14,111,12],[66,18,111,16,"Error"],[66,23,111,12],[66,24,112,8],[66,129,111,12],[66,130,111,6],[67,0,114,5],[67,7,109,4],[68,0,116,4,"hmrClient"],[68,6,116,4,"hmrClient"],[68,15,116,13],[68,16,116,14,"enable"],[68,22,116,4],[69,0,117,3],[70,0,21,18],[70,3,21,0],[71,0,120,0,"module"],[71,2,120,0,"module"],[71,8,120,6],[71,9,120,7,"exports"],[71,16,120,0],[71,19,120,17,"HMRClient"],[71,28,120,0]]},"type":"js/module"}]}